<!DOCTYPE html>
<html lang="az" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Usta Paneli - La Beauty</title>
    <link th:href="@{/admin/css/bootstrap.css}" rel="stylesheet"/>
    <link th:href="@{/admin/vendors/bootstrap-icons/bootstrap-icons.css}" rel="stylesheet"/>
</head>

<body class="bg-light">

<div class="container mt-4">

    <!-- üîπ Ba≈ülƒ±q -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="text-primary mb-0">Usta Paneli</h2>
        <a href="/" class="btn btn-outline-secondary btn-sm">
            <i class="bi bi-house-door"></i> Ana s…ôhif…ô
        </a>
    </div>

    <!-- üîπ ∆èg…ôr s…ôhv varsa -->
    <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

    <!-- üîπ Statistik g√∂st…ôricil…ôr -->
    <div class="row text-center mb-4">
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="text-warning">G√∂zl…ôm…ôd…ô</h5>
                    <h2 th:text="${stats.pendingCount}">0</h2>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="text-success">T…ôsdiql…ônmi≈ü</h5>
                    <h2 th:text="${stats.approvedCount}">0</h2>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="text-secondary">Tamamlanmƒ±≈ü</h5>
                    <h2 th:text="${stats.doneCount}">0</h2>
                </div>
            </div>
        </div>
    </div>

    <!-- üîπ Rezervasiyalar C…ôdv…ôli -->
    <div class="card shadow-sm">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Rezervasiyalar</h5>
        </div>
        <div class="card-body p-0">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                <tr>
                    <th>ID</th>
                    <th>Xidm…ôt</th>
                    <th>Tarix</th>
                    <th>Vaxt</th>
                    <th>M√º≈üt…ôri</th>
                    <th>Telefon</th>
                    <th>Status</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="r : ${reservations}">
                    <td th:text="${r.id}"></td>
                    <td th:text="${r.serviceName}"></td>
                    <td th:text="${r.date}"></td>
                    <td th:text="${#temporals.format(r.startTime, 'HH:mm')}"></td>
                    <td th:text="${r.customerName}"></td>
                    <td th:text="${r.customerPhone}"></td>
                    <td>
                        <span th:text="${r.status}"
                              th:classappend="${r.status == 'PENDING'} ? 'badge bg-warning text-dark' :
                                              ${r.status == 'APPROVED'} ? 'badge bg-success' :
                                              ${r.status == 'DONE'} ? 'badge bg-secondary' :
                                              'badge bg-light text-dark'"></span>
                    </td>
                </tr>
                <tr th:if="${#lists.isEmpty(reservations)}">
                    <td colspan="7" class="text-center text-muted py-3">Rezervasiya yoxdur</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>

</body>
</html>
